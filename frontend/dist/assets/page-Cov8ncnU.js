import{r as g,$ as f,e as j,g as N,u as b,j as e,L as n,C as w}from"./index-g8JsAD6D.js";import{L as y}from"./LogoBox-D9c4dI6R.js";import{P as S}from"./PageTitle-CxfJYhSt.js";import{T as P}from"./ThirdPartyAuth-D_O_n9kk.js";import{P as C}from"./PasswordFormInput-Cbvw0QKd.js";import{T as F}from"./TextFormInput-Cpv0s4a4.js";import{o as L}from"./yup-BHJ-2GYf.js";import{u as v}from"./index.esm-Cfe9nLvb.js";import{c as R,a as m}from"./index.esm-Bj2yPUZr.js";import{F as I}from"./FormCheck-VkeX_5_i.js";import{B as E}from"./Button-D0PIrq1X.js";import{C as T,a as B}from"./Card-BeXcCZYv.js";import"./Feedback-DRxK_Gi1.js";import"./FormGroup-B98vKDZp.js";import"./FormContext-pFRdsTk3.js";import"./FormLabel-B437T1BD.js";import"./FormControl-DPlcBO7X.js";import"./ElementChildren-Dnw0Ivgz.js";import"./Button-gQG5sY8T.js";import"./divWithClassName-DiLhEsAW.js";const k=()=>{const[o,t]=g.useState(!1),a=f(),{login:l,getDefaultRoute:U}=j(),[c]=N(),{showNotification:i}=b(),d=R({email:m().required("Please enter your username or email"),password:m().required("Please enter your password")}),{control:p,handleSubmit:h}=v({resolver:L(d),defaultValues:{email:"admin",password:"Passw0rd!"}}),u=s=>{const r=c.get("redirectTo");r?a(r):s!=null&&s.homeRoute?a(s.homeRoute):a((s==null?void 0:s.homeRoute)||"/dashboard/admin")},x=h(async s=>{t(!0);try{const r=await l(s.email,s.password);i({message:"Successfully logged in. Redirecting....",variant:"success"}),setTimeout(()=>u(r),500)}catch(r){i({message:r.message,variant:"danger"})}finally{t(!1)}});return{loading:o,login:x,control:p}},q=()=>{const{loading:o,login:t,control:a}=k();return e.jsxs("form",{className:"authentication-form",onSubmit:t,children:[e.jsx(F,{control:a,name:"email",containerClassName:"mb-3",label:"Username or Email",id:"email-id",placeholder:"Enter your username or email"}),e.jsx(C,{control:a,name:"password",containerClassName:"mb-3",placeholder:"Enter your password",id:"password-id",label:e.jsxs(e.Fragment,{children:[e.jsx(n,{to:"/auth/reset-pass",className:"float-end text-muted text-unline-dashed ms-1",children:"Reset password"}),e.jsx("label",{className:"form-label",htmlFor:"example-password",children:"Password"})]})}),e.jsx("div",{className:"mb-3",children:e.jsx(I,{label:"Remember me",id:"sign-in"})}),e.jsx("div",{className:"mb-1 text-center d-grid",children:e.jsx(E,{variant:"primary",type:"submit",disabled:o,children:"Sign In"})})]})},re=()=>e.jsxs(e.Fragment,{children:[e.jsx(S,{title:"Sign In"}),e.jsxs(w,{xl:5,className:"mx-auto",children:[e.jsx(T,{className:"auth-card",children:e.jsxs(B,{className:"px-3 py-5",children:[e.jsx(y,{textLogo:{height:24,width:110},squareLogo:{className:"me-2",width:33,height:28},containerClassName:"mx-auto mb-4 text-center auth-logo"}),e.jsx("h2",{className:"fw-bold text-center fs-18",children:"Sign In"}),e.jsx("p",{className:"text-muted text-center mt-1 mb-4",children:"Enter your email address and password to access admin panel."}),e.jsxs("div",{className:"px-4",children:[e.jsx(q,{}),e.jsx(P,{})]})]})}),e.jsxs("p",{className:"mb-0 text-center",children:["New here?",e.jsx(n,{to:"/auth/sign-up-2",className:"fw-bold ms-1",children:"Sign Up"})]})]})]});export{re as default};
