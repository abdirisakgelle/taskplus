import{r as f,X as j,b as N,a8 as b,d as w,j as e,L as n,C as y}from"./index-AWqnUruu.js";import{L as S}from"./LogoBox-CGjn2tYH.js";import{P}from"./PageTitle-BMea1XiK.js";import{T as C}from"./ThirdPartyAuth-C5g-z6v1.js";import{P as F}from"./PasswordFormInput--tk0fKTW.js";import{T as L}from"./TextFormInput-BjUtWFLl.js";import{o as v}from"./yup-BbvBMYLW.js";import{u as I}from"./index.esm-B9hW1Xzn.js";import{c as R,a as m}from"./index.esm-C8qn406s.js";import{F as E}from"./FormCheck-Dmpzi0OY.js";import{B as T}from"./Button-BMCNuBN9.js";import{C as B,a as k}from"./Card-Flgoo5n_.js";import"./logo-light-ClDG_0_V.js";import"./logo-sm-DRF7g9KH.js";import"./Feedback-Cn9lSxjb.js";import"./FormGroup-BKflq_TQ.js";import"./FormContext-D8-zCC-R.js";import"./FormLabel-BzpZvh0K.js";import"./FormControl-B6k3yqbp.js";import"./ElementChildren-C7GHKQyg.js";import"./Button-Du7OjY40.js";import"./divWithClassName-BSgXz21C.js";const q=()=>{const[o,t]=f.useState(!1),a=j(),{login:l,getDefaultRoute:c}=N(),[d]=b(),{showNotification:i}=w(),p=R({email:m().required("Please enter your username or email"),password:m().required("Please enter your password")}),{control:u,handleSubmit:h}=I({resolver:v(p),defaultValues:{email:"admin",password:"Passw0rd!"}}),x=s=>{const r=d.get("redirectTo");r?a(r):s!=null&&s.homeRoute?a(s.homeRoute):a(c())},g=h(async s=>{t(!0);try{const r=await l(s.email,s.password);i({message:"Successfully logged in. Redirecting....",variant:"success"}),setTimeout(()=>x(r),500)}catch(r){i({message:r.message,variant:"danger"})}finally{t(!1)}});return{loading:o,login:g,control:u}},U=()=>{const{loading:o,login:t,control:a}=q();return e.jsxs("form",{className:"authentication-form",onSubmit:t,children:[e.jsx(L,{control:a,name:"email",containerClassName:"mb-3",label:"Username or Email",id:"email-id",placeholder:"Enter your username or email"}),e.jsx(F,{control:a,name:"password",containerClassName:"mb-3",placeholder:"Enter your password",id:"password-id",label:e.jsxs(e.Fragment,{children:[e.jsx(n,{to:"/auth/reset-pass",className:"float-end text-muted text-unline-dashed ms-1",children:"Reset password"}),e.jsx("label",{className:"form-label",htmlFor:"example-password",children:"Password"})]})}),e.jsx("div",{className:"mb-3",children:e.jsx(E,{label:"Remember me",id:"sign-in"})}),e.jsx("div",{className:"mb-1 text-center d-grid",children:e.jsx(T,{variant:"primary",type:"submit",disabled:o,children:"Sign In"})})]})},oe=()=>e.jsxs(e.Fragment,{children:[e.jsx(P,{title:"Sign In"}),e.jsxs(y,{xl:5,className:"mx-auto",children:[e.jsx(B,{className:"auth-card",children:e.jsxs(k,{className:"px-3 py-5",children:[e.jsx(S,{textLogo:{height:24,width:110},squareLogo:{className:"me-2",width:33,height:28},containerClassName:"mx-auto mb-4 text-center auth-logo"}),e.jsx("h2",{className:"fw-bold text-center fs-18",children:"Sign In"}),e.jsx("p",{className:"text-muted text-center mt-1 mb-4",children:"Enter your email address and password to access admin panel."}),e.jsxs("div",{className:"px-4",children:[e.jsx(U,{}),e.jsx(C,{})]})]})}),e.jsxs("p",{className:"mb-0 text-center",children:["New here?",e.jsx(n,{to:"/auth/sign-up-2",className:"fw-bold ms-1",children:"Sign Up"})]})]})]});export{oe as default};
